# Определение валидности данных
Валидными значениями для полей являются:
- Номер карты: 16 цифр
- Месяц: двухзначное число от 01 до 12, но не ранее текущего месяца текущего года
- Год: две последние цифры текущего года и последующих 5 лет
- Владелец: латиница в верхнем регистре, дефис, точка и пробел
- CVC/CVV: число длиной 3 цифры в диапазоне 000 - 999


# План автоматизации

## Перечень автоматизируемых сценариев

### Frontend

1. Успешная оплата тура "Путешествие дня" при валидном заполнение полей формы "Оплата по карте" по действующей карте APPROVED 
   Ожидаемый результат: появление сообщения: "УСПЕШНО. Операция одобрена банком"

2. Успешная оплата в кредит тура "Путешествие дня" при валидном заполнение полей формы "Кредит по данным карты" по действующей карте APPROVED 
   Ожидаемый результат: появление сообщения: "УСПЕШНО. Операция одобрена банком"

3. Отказ в оплате тура "Путешествие дня" при валидном заполнение полей формы "Оплата по карте" по заблокированной карте DECLINED 
   Ожидаемый результат: появление сообщения: "ОШИБКА. Банк отказал в проведении операции"

4. Отказ в оплате тура "Путешествие дня" при валидном заполнение полей формы "Кредит по данным карты" по заблокированной карте DECLINED
   Ожидаемый результат: появление сообщения: "ОШИБКА. Банк отказал в проведении операции"

5. Сохранение введенных данных в форме "Оплата по карте" при переключении на форму "Кредит по данным карты". 
   Ожидаемый результат: при переключении формы поля останутся заполненными теми же данными

6. Сохранение введенных данных в форме "Кредит по данным м карты" при переключении на форму "Оплата по карте".
   Ожидаемый результат: при переключении формы поля останутся заполненными теми же данными

7. Предупреждение при пустом значении поля "Номер карты" в форме "Оплата по карте", все остальные поля заполнены валидно  
   Ожидаемый результат: под полем "Номер карты" появится предупреждение о незаполненном поле

8. Предупреждение при пустом значении поля "Номер карты" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
   Ожидаемый результат: под полем "Номер карты" появится предупреждение о незаполненном поле

9. Предупреждение о незаполненном поле при введении 15-значного значения поля "Номер карты" в форме "Оплата по карте", все остальные поля заполнены валидно  
   Ожидаемый результат: под полем "Номер карты" появится предупреждение о некорректном номере карты

10. Предупреждение о незаполненном поле при введении 15-значного значения поля "Номер карты" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Номер карты" появится предупреждение о некорректном номере карты

11. Отказ в оплате тура при рандомном значении поля "Номер карты" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: "ОШИБКА. Банк отказал в проведении операции"

12. Отказ в оплате тура при рандомном значении поля "Номер карты" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: "ОШИБКА. Банк отказал в проведении операции"

13. Предупреждение о незаполненном поле при пустом значении поля "Месяц" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение о незаполненном поле

14. Предупреждение о незаполненном поле при пустом значении поля "Месяц" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение о незаполненном поле

15. Предупреждение о неверном формате при введении однозначной цифры в поле "Месяц" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение о неверном формате

16. Предупреждение о неверном формате при введении однозначной цифры в поле "Месяц" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение о неверном формате

17. Предупреждение о некорректном значении при введении "00" в поле "Месяц" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение о некорректном значении

18. Предупреждение о некорректном значении при введении "00" в поле "Месяц" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение о некорректном значении

19. Предупреждение о некорректном значении при введении "13" в поле "Месяц" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение о некорректном значении

20. Предупреждение о некорректном значении при введении "13" в поле "Месяц" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение о некорректном значении

21. Предупреждение об истечении срока действия карты при введении в поле "Месяц" предыдущего месяца текущему при значении текущего года в поле "Год" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение об истечении срока действия карты

22. Предупреждение об истечении срока действия карты при введении в поле "Месяц" предыдущего месяца текущему при значении текущего года в поле "Год" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Месяц" появится предупреждение об истечении срока действия карты

23. Предупреждение о незаполненном поле при пустом значении поля "Год" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Год" появится предупреждение о незаполненном поле

24. Предупреждение о незаполненном поле при пустом значении поля "Год" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Год" появится предупреждение о незаполненном поле

25. Предупреждение об истечении срока действия карты при введении в поле "Год" предыдущего года текущему в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Год" появится предупреждение об истечении срока действия карты

26. Предупреждение об истечении срока действия карты при введении в поле "Год" предыдущего года текущему в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Год" появится предупреждение об истечении срока действия карты

27. Предупреждение о неверном сроке действия карты при введении в поле "Год" значения, превышающего пятилетний срок действия карты в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Год" появится предупреждение о неверном сроке действия карты

28. Предупреждение о неверном сроке действия карты при введении в поле "Год" значения, превышающего пятилетний срок действия карты в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Год" появится предупреждение о неверном сроке действия карты

29. Предупреждение о незаполненном поле при пустом значении поля "Владелец" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о незаполненном поле

30. Предупреждение о незаполненном поле при пустом значении поля "Владелец" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о незаполненном поле

31. Предупреждение о неверном формате при введении символов нижнего регистра в поле "Владелец" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

32. Предупреждение о неверном формате при введении символов нижнего регистра в поле "Владелец" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

33. Предупреждение о неверном формате при введении кириллических символов в поле "Владелец" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

34. Предупреждение о неверном формате при введении кириллических символов в поле "Владелец" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

35. Предупреждение о неверном формате при введении цифр в поле "Владелец" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

36. Предупреждение о неверном формате при введении цифр в поле "Владелец" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

37. Предупреждение о неверном формате при введении спецсимволов в поле "Владелец" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

38. Предупреждение о неверном формате при введении спецсимволов в поле "Владелец" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

39. Введение двух пробелов подряд в поле "Владелец" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: автоудаление лишних пробелов

40. Введение двух пробелов подряд в поле "Владелец" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: автоудаление лишних пробелов

41. Введение пробелов в начале имени в поле "Владелец" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: автоудаление лишних пробелов

42. Введение пробелов в начале имени в поле "Владелец" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: автоудаление лишних пробелов

43. Введение пробелов в конце имени в поле "Владелец" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: автоудаление лишних пробелов

44. Введение пробелов в конце имени в поле "Владелец" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: автоудаление лишних пробелов

45. Предупреждение о неверном формате при введении двух дефисов подряд в поле "Владелец" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

46. Предупреждение о неверном формате при введении двух дефисов подряд в поле "Владелец" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "Владелец" появится предупреждение о неверном формате

47. Предупреждение о незаполненном поле при пустом значении поля "CVC/CVV" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "CVC/CVV" появится предупреждение о незаполненном поле

48. Предупреждение о незаполненном поле при пустом значении поля "CVC/CVV" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "CVC/CVV" появится предупреждение о незаполненном поле

49. Предупреждение о неверном формате при заполнении однозначным числом поля "CVC/CVV" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "CVC/CVV" появится предупреждение о неверном формате

50. Предупреждение о неверном формате при заполнении однозначным числом поля "CVC/CVV" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "CVC/CVV" появится предупреждение о неверном формате

51. Предупреждение о неверном формате при заполнении двухзначным числом поля "CVC/CVV" в форме "Оплата по карте", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "CVC/CVV" появится предупреждение о неверном формате

52. Предупреждение о неверном формате при заполнении двухзначным числом поля "CVC/CVV" в форме "Кредит по данным карты", все остальные поля заполнены валидно  
    Ожидаемый результат: под полем "CVC/CVV" появится предупреждение о неверном формате

### Backend
1. Проверка статуса 200 в теле POST-запроса после отправки UI-формы с валидными данными.
2. Проверка статуса 400 при отправке пустого тела POST-запроса.
3. Проверка статуса 400 при отправке пустого значения атрибута "Номер карты" в POST-запросе.
4. Проверка статуса 400 при отправке пустого значения атрибута "Месяц" в POST-запросе.
5. Проверка статуса 400 при отправке пустого значения атрибута "Год" в POST-запросе.
6. Проверка статуса 400 при отправке пустого значения атрибута "Владелец" в POST-запросе.
7. Проверка статуса 400 при отправке пустого значения атрибута "CVC/CVV" в POST-запросе.


### Перечень используемых инструментов
1. IntelliJ IDEA - функциональная среда разработки, подходящая для многих языков программирования;
2. Java 11 - объектно-ориентированный язык программирования, оптимальный для написания понятных и наглядных автотестов;
3. Gradle - мощная и простая система автоматической сборки проектов;
4. JUnit 5 - среда модульного тестирования для языка программирования Java.
5. Framework для UI-тестирования "Selenide" - изящный API, простота использования;
6. REST Assured - фреймворк для backend тестирования
7. Frameworks для управления данными: JavaFaker (генерация данных), DBUtils (чтение записей в БД), Gson (генерация body-запросов при тестировании API)
8. Система репортинга Allure.

### Перечень необходимых разрешений/данных/доступов
1. Разрешение на проведение тестирования интерфеса.
2. Запрос требований, документации.
3. Получение доступа к API и тестовой БД.
4. Доступ к тестовым данным (при возможности).

### Перечень и описание возможных рисков при автоматизации
1. Падение сервера.
2. Частое обновление UI сайта.
3. Отсутствие селекторов.
4. Нерабочий сервис.
5. Очистка БД от записей после каждого прогона тестов.
6. При подключении к реальной системе возможны новые невыявленные баги

### Интервальная оценка с учётом рисков (в часах)

1. Настройка SUT, создание необходимых дата-хелперов и page object: 10 - 12 часов
2. Написание автотестов: 12 - 16 часов
3. Создание баг-репортов и отчёта по результатам прогона тестов: 5 - 7 часов
4. Отчёт по результатам автоматизации: 5 - 6 часа
5. Подключение CI (дополнительно): 3 - 4 часа

   Всего: 35 - 45 часов

### План сдачи работ 
1. Авто-тесты будут готовы 05.08.2022
2. Баг-репорты и отчёт по результатам тестов: 07.08.2022
3. Отчёт по результатам автоматизации: 09.08.2022

